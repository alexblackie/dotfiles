# ------------------------------------------------------------------------------
# Aliases & custom functions
# ------------------------------------------------------------------------------
alias ls='ls -Gph'
alias la='ls -ah'

alias g='git'
alias gst='git status'
alias gp='git push'
alias yolo='git push -f origin'

alias v='vim'

alias fr='foreman run'
alias fs='foreman start'
alias fds='foreman start -f Procfile.dev'
alias rs='bundle exec rails s'

alias be='bundle exec'
alias bems='bundle exec middleman server'

alias vag='vagrant'

alias :q='exit'

vs() {
	args=$(printf "%s " "$@") # concatenate arguments into single string
	vagrant ssh -c "$args"
}

serve() {
	port="${1:-3000}"
	ruby -run -e httpd . -p $port
}

refactor() {
	# Takes two args:
	#	 $1 = current
	#	 $2 = wanted
	# ex, to change "user" to "account": `refactor user account`

	for f in `ag -l $1 | xargs`; do sed -i "s/$1/$2/g" $f; done
}


# ------------------------------------------------------------------------------
# Libraries/Imports
# ------------------------------------------------------------------------------
if [ -f ~/.env ]; then
	source ~/.env
fi

export CHRUBY_ROOT='/usr/local/share/chruby'
if [ -d "${CHRUBY_ROOT}" ]; then
	source "$CHRUBY_ROOT/chruby.sh"
	source "$CHRUBY_ROOT/auto.sh"
fi


# ------------------------------------------------------------------------------
# Environment
# ------------------------------------------------------------------------------
export TERM="xterm-256color"
export EDITOR="vim"
export PATH="$HOME/bin:$HOME/.gem_local/bin:$PATH"
